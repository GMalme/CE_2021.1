\chapter{Minha Primeira Simulação em Python Mesa}

\section{Especificação da Tarefa} 

Nessa tarefa você vai:
\begin{itemize}
    \item criar um novo laboratório de simulação;
    \item iniciar a realização de seus primeiros experimentos de simulação.
\end{itemize}.

A tarefa é individual, e de forma operacional consiste em codificar, descrever e executar uma simulação em Python, usando o framework Mesa, a partir de mudanças no código de qualquer um dos exemplos disponíveis no conjunto de exemplos disponível na distribuição padrão do \textit{framework} Mesa, com exceção do exemplo BoltzmannWealthModel.

A codificação e descrição equivalem a criar um laboratório de simulação experimental.

A execução da simulação corresponde à realização de experimentos de simulação.

\subsection{O código: Criação do Laboratório}

\subsubsection{Características do Laboratório}

O código da simulação apresentada deve atender às seguintes características, em relação ao código original:
\begin{itemize}
    \item Deve apresentar uma variação no comportamento do modelo e no comportamento dos agentes. As duas variações podem ser mínimas, mas precisam ser justificadas, baseadas em alguma hipótese causal que você deve declarar, sobre o seu entendimento do modelo que está sendo simulado;
    \item Deve permitir que pelo menos um parâmetro ou variável de controle adicional possa ser manipulável na interface do usuário, na parte interativa do modelo. A sua hipótese causal deve estar relacionada com essa variável manipulável;
    \item Deve apresentar, na interface de interação com a simulação, algum gráfico mostrando a variação de dados de efeito, necessariamente relacionados com a sua hipótese causal. Podem ser os mesmos dados já existentes na simulação original, ou novos dados que você acha importante serem apresentados;
    \item Deve coletar e gravar dados gerados durante cada execução da simulação, em dois arquivos no formato CSV, usando as ferramentas próprias do framework, apresentadas na URL \url{https://mesa.readthedocs.io/en/stable/tutorials/intro_tutorial.html#collecting-data}. Um dos arquivos contém os dados de variáveis no nível do modelo, e outro de variáveis no nível do agente, por exemplo:
    {\footnotesize
    \begin{itemize}
        \item \verb|model_data_iter_10_steps_10_2021-11-05 17:32:12.906885.csv|
        \item \verb|agent_data_iter_10_steps_10_2021-11-05 17:32:12.906885.csv|
    \end{itemize}
    }
\end{itemize}

\subsubsection{A entrega do Laboratório}

Para depositar o código fonte do simulador, atenda aos seguintes aspectos de organização:
\begin{itemize}
    \item O seu código deve estar em um repositório em sua conta individual no git, usando um nome \verb|<project-name>|, para o modelo criado, possivelmente uma pequena variação em relação ao nome do diretório onde se encontra a simulação usada como base. Por exemplo, o nome do seu \verb|<project-name>| pode ser
    \verb|boltzmann_wealth_model_greedy|, com uma url \url{https://github.com/<githubusername>/<project-name>};
    \item No raiz do seu repositório, o arquivo \verb|Readme.md| deve conter:
    \begin{itemize}
        \item Apresentação do novo modelo, em sua relação ao modelo original;
        \item Descrição da hipótese causal que você deseja comprovar;
        \item Justificativa para as mudanças que você fez, em relação ao código original;
        \item Orientação sobre como usar o simulador; e
        \item Descrição das variáveis armazenadas no arquivo CSV;
        \item Quaisquer outras informações que você julgue importante;
    \end{itemize}
    \item O resto do repositório deve conter o seu código.
\end{itemize}

Ao concluir o seu código crie uma subtree dentro do diretório a seguir, no repositório central da disciplina:

\verb|experiments/<githubusername>/labs/|

Dentro do diretório labs deve haver um ponteiro para o repositório onde você desenvolveu o seu simulador. Use o comando abaixo para criar esse ponteiro:

{\footnotesize
\begin{verbatim}
git subtree add --prefix experiments/<githubusername>/labs/<project-name> 
    https://github.com/<githubusername>/<project-name> master --squash
\end{verbatim}
}

Não se esqueça de enviar suas mudanças para o repositório central com \verb|git pull|.

Para mais detalhes sobre o que faz o comando \verb|git subtree| veja as urls \url{https://stackoverflow.com/questions/36554810/how-to-link-folder-from-a-git-repo-to-another-repo} e \url{https://blog.developer.atlassian.com/the-power-of-git-subtree/}

\section{Dados de Simulação: Os experimentos iniciais}

Além de depositar os código fonte, você precisa depositar pelo menos três pares de arquivos CSV (\textit{Comma Separated Values}), que apresentem resultados de três simulações (experimentos), com distintos valores para as variáveis de controle apresentadas na interface do usuário, especialmente as variáveis que você introduziu no modelo.

Os nomes de cada arquivo CSV devem permitir fácil identificação dos  parâmetros e valores usados na execução da simulação, por exemplo, os quatro arquivos a seguir listados indicariam os dados da execução de duas simulações (experimentos), uma delas com o valor da variável \textbf{greedy} True, outro com o valor False:
\begin{itemize}
    \item \verb|agent_data_greedy_True|
    \item \verb|model_data_greedy_True|
    \item \verb|agent_data_greedy_False|
    \item \verb|model_data_greedy_False|
\end{itemize}

Os arquivos devem estar armazenados no diretório 
\textbf{experiments / <githubusername>
/ Experimento-<nome-do-experimento> / <data-experimento> /}, onde:
\begin{itemize}
    \item \verb|<nome-do-experimento>| é um nome que você escolheu para o experimento, baseado na sua hipótese causal. Perceba que o nome do experimento deve obedecer às regras de nomeação de arquivos, já indicadas das orientações iniciais deste documento;
    \item \verb|<data-experimento>| é a data em que você executou o experimento, no formato AAAAMMDD;
\end{itemize}.

Use o Overleaf (ou o git) para depositar nos diretórios os arquivos gerados durante os experimentos (execução da simulação). 

Opcionalmente, recomenda-se que os nomes individuais dos arquivos contenham a data e hora de término da simulação.